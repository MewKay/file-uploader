<div class="heading">
  <div class="folder-action-container">
    <h3><%= currentFolder.name %></h3>

    <div class="button-container">
      <div class="padding"></div>
      <button class="new-folder-button">Create a new folder</button>
      <%- include("./share-folder.ejs", { sharedFolderStatus }) %>
      <button class="open-upload-modal-button">Upload a file</button>
    </div>
  </div>
  <div class="share-folder-container hidden">
    <% if (locals.sharedFolderStatus && sharedFolderStatus.is_active) { %>
    <a
      class="public-folder-label"
      href="<%= sharedFolderStatus.fullUrl %>"
      target="_blank"
      rel="noopener noreferrer"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="lucide lucide-square-arrow-out-up-right-icon lucide-square-arrow-out-up-right"
      >
        <path d="M21 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6" />
        <path d="m21 3-9 9" />
        <path d="M15 3h6v6" />
      </svg>
      <%= sharedFolderStatus.folder.name %>
    </a>
    <p class="share-link-container">
      <%= sharedFolderStatus.fullUrl %>
      <button class="copy-button idle">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="lucide lucide-copy-icon lucide-copy copy-idle-icon"
        >
          <rect width="14" height="14" x="8" y="8" rx="2" ry="2" />
          <path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2" />
        </svg>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="lucide lucide-check-icon lucide-check copy-success-icon"
        >
          <path d="M20 6 9 17l-5-5" />
        </svg>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="lucide lucide-x-icon lucide-x copy-failure-icon"
        >
          <path d="M18 6 6 18" />
          <path d="m6 6 12 12" />
        </svg>
      </button>
    </p>
    <% } %>
  </div>

  <%- include("../modals/file-upload-modal.ejs") %>
  <%- include("../modals/folder-name-modal.ejs", { 
              formAction: "./new-folder/", 
              buttonName: "Create", 
              className: "new-folder-modal" 
            }) %>
</div>
