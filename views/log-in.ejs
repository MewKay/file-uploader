<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include("partials/head.ejs", { title }) %>
    <link rel="stylesheet" href="/styles/auth/auth.css" />
  </head>
  <body>
    <main>
      <form action="/log-in" method="post">
        <h3>Log in to your account</h3>

        <% if (locals.messages.signUpSuccess) { %>
        <div class="messages-container success">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="lucide lucide-circle-check-icon lucide-circle-check"
          >
            <circle cx="12" cy="12" r="10" />
            <path d="m9 12 2 2 4-4" />
          </svg>
          <p class="messages"><%= messages.signUpSuccess %></p>
        </div>
        <% } %>

        <% if (locals.messages.error) { %>
        <%- include("./partials/components/alert.ejs", 
        { errorMessages: messages.error[0] }) %>
        <% } %>

        <% if (locals.validationErrors) { %>
        <%- include("./partials/components/alert.ejs", 
        { errorMessages: validationErrors}) %>
        <% } %>

        <div class="username-container input">
          <label for="username-input"> Username </label>
          <input
            id="username-input"
            type="text"
            minlength="4"
            maxlength="15"
            name="username"
            required
          />
        </div>

        <div class="password-container input">
          <label for="password-input"> Password </label>
          <input
            id="password-input"
            type="password"
            minlength="8"
            name="password"
            required
          />
        </div>

        <button type="submit">Sign In</button>
      </form>

      <div class="prompt">
        <p>
          Don't have an account yet?
          <a href="/sign-up"> Sign up here. </a>
        </p>
      </div>
    </main>
  </body>
</html>
